---
id: https://w3id.org/sdsc-ordes/smoc-schema
name: smoc-schema
title: smoc-schema
description: |-
  Metadata schema for the SMOC Multi-Omics Digital Object
license: MIT
see_also:
  - https://sdsc-ordes.github.io/smoc-schema

prefixes:
  smoc_schema: https://w3id.org/sdsc-ordes/smoc-schema/
  linkml: https://w3id.org/linkml/
  biolink: https://w3id.org/biolink/
  schema: http://schema.org/
  bioschemas: https://bioschemas.org/
  EDAM: http://edamontology.org/
  NCIT: http://purl.obolibrary.org/obo/NCIT_
  FG: https://w3id.org/fair-genomes/ontology/
  sphn: https://biomedit.ch/rdf/sphn-schema/sphn#
  example: https://example.org/
default_prefix: smoc_schema
default_range: string

imports:
  - linkml:types

classes:

  NamedThing:
    description: >-
      A generic grouping for any identifiable entity
    slots:
      - id
      - name
      - description
    class_uri: schema:Thing

  Study:
    is_a: NamedThing
    description: >-
      Represents the digital object.
      It encapsulates omics and other datasets and their metadata.
    see_also:
      - bioschemas:Study
      - FG:Study
      - NCIT:C63536
    slots:
      - start_date
      - completion_date
      - has_assay

  Assay:
    is_a: NamedThing
    see_also:
      - NCIT:C42790
      - sphn:Assay
    description: >-
      A coordinated set of actions designed to generate data from samples.
    slots:
      - has_sample
      - has_data
      - omics_type

  Sample:
    is_a: NamedThing
    see_also:
      - bioschemas:Sample
    description: >-
      A biological sample used in assays.
      Examples include a whole organism, tissue or cell line.
    slots:
      - taxon_id
      - collector

  DataEntity:
    is_a: NamedThing
    description: >-
      An entity containing data.
    slots:
      - location
      - data_format
      - has_sample
      - has_reference

  ReferenceGenome:
    is_a: NamedThing
    description: >-
      Reference assembly of a given genome, consisting
      of a collection of congiguous sequences (contigs).
    slots:
      - location
      - has_sequence
      - taxon_id
      - source_uri

  ReferenceSequence:
    is_a: NamedThing
    description: >-
      A contiguous sequence of DNA part of a reference coordinate system (genome assembly).
    slots:
      - sequence_md5
      - source_uri

  AlignmentSet:
    is_a: DataEntity
    description: A data entity consisting of genomic intervals aligned to a reference.

  VariantSet:
    is_a: DataEntity
    description: A data entity consisting of genomic variants relative to a reference.

  Array:
    is_a: DataEntity
    description: Data entity consisting of an N-dimensional array.

  StudyCollection:
    tree_root: true
    description: >-
      A holder for Study objects
    attributes:
      entries:
        range: Study
        multivalued: true
        inlined: true

# TODO: Expand schema to support standard use cases
# NOTE: Suggestions below based on the SPHN 2024 schema

# QualityControlMetric
# StandardOperatingProcedure
# SequencingAssay(Assay)
# MassSpectometryAssay(Assay)
# DataProcessing
# SequencingAnalysis(DataProcessing)
# SampleProcessing
# LibraryPreparation(SampleProcessing)
# Software

slots:
  id:
    identifier: true
    slot_uri: schema:identifier
    range: uriorcurie
    description: A unique identifier for a thing
  name:
    slot_uri: schema:name
    description: A human-readable name for a thing
  description:
    slot_uri: schema:description
    description: A human-readable description for a thing

  completion_date:
    slot_uri: FG:completion_date
    description: The date on which the concluding information for this study is completed.
    range: datetime
  start_date:
    slot_uri: FG:start_date
    description: The date on which this study began.
    range: datetime
    required: true
  omics_type:
    description: The type of omics considered.
    range: OmicsType
    required: true
    multivalued: true
  has_assay:
    description: An assay that was performed as part of a given thing.
    range: Assay
    multivalued: true
  has_sample:
    description: Biological sample included or described by a given thing.
    range: Sample
    multivalued: true
  has_data:
    description: Data entity included in a given collection.
    range: DataEntity
    multivalued: true
  data_format:
    description: Data/file format associated with a data entity.
    range: DataFormat
    required: true
  taxon_id:
    description: The taxid number describing the taxonomic range of a sample.
    range: integer
    multivalued: true
  collector:
    description: The organization responsible for collecting a given sample.
    range: string
    multivalued: true
  location:
    description: >-
      The uniform resource identifier to access a resource,
      either on the web or the filesystem
    range: uri
    required: true
  sequence_md5:
    description: >-
      The pre-computed hash uniquely representing a biological sequence.
      Calculated as the MD5 of the upper-case sequence excluding all whitespace characters (this is equivalent to SQ:M5 in SAM).
    range: string
    pattern: "^[a-f0-9]{32}$"
  source_uri:
    description: The URI from which a resource was obtained.
    range: uri
  has_sequence:
    description: Denotes that a sequence beolongs to a collection (e.g. a reference genome).
    range: ReferenceSequence
    multivalued: true
  has_reference:
    description: Specifies the reference coordinate system used by an omics dataset.
    range: ReferenceGenome

enums:
  OmicsType:
    permissible_values:
      GENOMICS:
        description: >-
          The study of the structure, function, expression,
          evolution, mapping and editing of genomes.
        meaning: NCIT:C84343
      TRANSCRIPTOMICS:
        description: >-
          The study of the complete set of RNA
          transcripts that are produced by the genome.
        meaning: NCIT:C153189
      METABOLOMICS:
        description: The study of biological metabolic profiles.
        meaning: NCIT:C49019
      PROTEOMICS:
        description: The global analysis of cellular proteins.
        meaning: NCIT:C20085
  DataFormat:
    permissible_values:
      CRAM:
        description: Referenced-based compression of alignment format.
        meaning: EDAM:format_3462
      FASTQ:
        description: FASTQ short read format with sequence and any type of quality scores.
        meaning: EDAM:format_1930
      Zarr:
        description: Chunked, compressed N-dimensional arrays.
        meaning: EDAM:format_3915
      FASTA:
        description: FASTA sequence format including NCBI-style IDs.
        meaning: EDAM:format_1929
